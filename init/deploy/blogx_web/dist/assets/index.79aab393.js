import{d as z,q as N,b as V,k as S,r as d,o as l,e as y,h as t,f as o,w as n,n as $,u,j as q,t as r,m as a,F as D,c as B,am as L,an as K,a4 as R,i as F,l as T,p as E,M as C,s as I}from"./index.b57f2f57.js";import{_ as j,F as P}from"./f_main.de2a37c7.js";import{u as G}from"./user_base_store.744befab.js";import{F as w}from"./f_a.a86d598e.js";import{f as H,a as J}from"./focus_api.a8102f73.js";import{g as O}from"./go_router.d8eedbce.js";import"./f_theme.vue_vue_type_script_setup_true_lang.c42e8a1a.js";import"./_plugin-vue_export-helper.cdc0426e.js";const Q={class:"user_info"},W={class:"avatar"},X={class:"info"},Y={class:"nick"},Z={class:"data"},h={class:"place"},ee={class:"actions"},se={class:"user_sub_view"},ue={class:"head"},te={class:"left"},ne={class:"body"},_e=z({__name:"index",setup(oe){const v=N(),p=q(),s=G(),c=V("");async function g(){E.push({name:p.name,query:{...p.query,key:c.value},params:p.params})}S(()=>p.params.id,()=>{const i=Number(p.params.id);isNaN(i)||s.getUserBaseInfo(i)},{immediate:!0});async function k(i){if(!v.isLogin){C.warning("\u8BF7\u767B\u5F55"),I({reload:!0});return}let e;if(i?e=await H({focusUserID:s.userBase.userID}):e=await J({focusUserID:s.userBase.userID}),e.code){C.error(e.msg);return}C.success(e.msg),s.getUserBaseInfo(s.userBase.userID)}function A(i){if(!v.isLogin){C.warning("\u8BF7\u767B\u5F55"),I({reload:!0});return}E.push({name:"msgChat",query:{userID:i}})}return(i,e)=>{const M=d("a-avatar"),b=d("a-tag"),f=d("a-button"),m=d("router-link"),x=d("a-input-search"),U=d("router-view");return l(),y("div",{class:$(["user_view",`user_style_${u(s).userBase.homeStyleID}`])},[e[18]||(e[18]=t("div",{class:"banner"},null,-1)),o(j,{"no-scroll":""}),o(P,null,{default:n(()=>[t("div",Q,[t("div",W,[o(M,{onClick:e[0]||(e[0]=_=>u(O)(u(s).userBase.userID)),size:65,"image-url":u(s).userBase.avatar},null,8,["image-url"])]),t("div",X,[t("div",Y,[t("span",null,r(u(s).userBase.nickname),1),o(b,null,{default:n(()=>[a("\u7801\u9F84"+r(u(s).userBase.codeAge)+"\u5E74",1)]),_:1})]),t("div",Z,[t("span",null,[t("span",null,r(u(s).userBase.lookCount),1),e[5]||(e[5]=a()),e[6]||(e[6]=t("span",null,"\u603B\u8BBF\u95EE\u91CF",-1))]),t("span",null,[t("span",null,r(u(s).userBase.articleCount),1),e[7]||(e[7]=a()),e[8]||(e[8]=t("span",null,"\u6587\u7AE0",-1))]),t("span",null,[t("span",null,r(u(s).userBase.fansCount),1),e[9]||(e[9]=a()),e[10]||(e[10]=t("span",null,"\u7C89\u4E1D",-1))]),t("span",null,[t("span",null,r(u(s).userBase.followCount),1),e[11]||(e[11]=a()),e[12]||(e[12]=t("span",null,"\u5173\u6CE8",-1))])]),t("div",h,"ip\u5F52\u5C5E\uFF1A "+r(u(s).userBase.place),1)]),t("div",ee,[u(s).userBase.userID!=u(v).userInfo.userID?(l(),y(D,{key:0},[o(w,null,{default:n(()=>[u(s).userBase.relation===2||u(s).userBase.relation===4?(l(),B(f,{key:1,onClick:e[2]||(e[2]=_=>k(!1)),size:"mini",type:"primary"},{icon:n(()=>[o(u(K))]),default:n(()=>[e[14]||(e[14]=a(" \u5DF2\u5173\u6CE8 "))]),_:1})):(l(),B(f,{key:0,onClick:e[1]||(e[1]=_=>k(!0)),size:"mini",type:"outline"},{icon:n(()=>[o(u(L))]),default:n(()=>[e[13]||(e[13]=a(" \u5173\u6CE8 "))]),_:1}))]),_:1}),o(w,{onClick:e[3]||(e[3]=_=>A(u(s).userBase.userID))},{default:n(()=>[o(f,{size:"mini",type:"outline"},{icon:n(()=>[o(u(R))]),default:n(()=>[e[15]||(e[15]=a(" \u79C1\u4FE1 "))]),_:1})]),_:1})],64)):(l(),y(D,{key:1},[o(m,{to:{name:"userCenterInfo"}},{default:n(()=>[o(f,{size:"mini",type:"outline"},{default:n(()=>e[16]||(e[16]=[a("\u7F16\u8F91\u8D44\u6599")])),_:1})]),_:1}),o(m,{to:{name:"platformArticle"}},{default:n(()=>[o(f,{size:"mini",type:"outline"},{default:n(()=>e[17]||(e[17]=[a("\u7BA1\u7406\u535A\u6587")])),_:1})]),_:1})],64))])]),t("div",se,[t("div",ue,[t("div",te,[o(m,{to:{name:"userArticle"}},{default:n(()=>[a(r(u(s).isMe?"\u6211\u7684\u6587\u7AE0":"\u4ED6\u7684\u6587\u7AE0"),1)]),_:1}),u(s).isMe||u(s).userBase.openCollect?(l(),B(m,{key:0,to:{name:"userArticleCollect",query:{collectID:-1}}},{default:n(()=>[a(r(u(s).isMe?"\u6211\u7684\u6536\u85CF":"\u4ED6\u7684\u6536\u85CF"),1)]),_:1})):F("",!0),u(s).isMe||u(s).userBase.openFollow?(l(),B(m,{key:1,to:{name:"userFocusList"}},{default:n(()=>[a(r(u(s).isMe?"\u6211\u7684\u5173\u6CE8":"\u4ED6\u7684\u5173\u6CE8"),1)]),_:1})):F("",!0),u(s).isMe||u(s).userBase.openFans?(l(),B(m,{key:2,to:{name:"userFansList"}},{default:n(()=>[a(r(u(s).isMe?"\u6211\u7684\u7C89\u4E1D":"\u4ED6\u7684\u7C89\u4E1D"),1)]),_:1})):F("",!0)]),o(x,{modelValue:c.value,"onUpdate:modelValue":e[4]||(e[4]=_=>c.value=_),onKeydown:T(g,["enter"]),onSearch:g,placeholder:"\u641CTA\u7684\u5185\u5BB9"},null,8,["modelValue"])]),t("div",ne,[o(U)])])]),_:1})],2)}}});export{_e as default};
