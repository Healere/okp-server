import{e as G}from"./article_api.d25b0d15.js";import{a as N}from"./go_router.d8eedbce.js";import{d as J}from"./date.5a421098.js";import{d as K,b as x,a as w,k as F,r as l,o as e,e as n,h as s,c as k,w as u,i as _,f as r,j as O,M as P,m as g,F as C,g as D,u as b,t as d}from"./index.b57f2f57.js";const Q={class:"f_article_list_parent_com scrollbar"},W={key:0,class:"actions"},X={class:"f_article_list_com"},Y={class:"item"},Z={key:0,class:"check"},tt={class:"cover"},et=["onClick","src"],st={key:1,class:"user_top"},ot={class:"info"},at=["onClick"],nt={class:"abs"},ct={class:"data"},lt={class:"look"},it={class:"comment"},rt={class:"tags"},ut={class:"date"},_t={key:0,class:"page"},dt={key:1,class:"no_data"},ht=K({__name:"f_article_list",props:{isCheck:{type:Boolean}},emits:["dispatchDelete"],setup(B,{expose:E,emit:V}){const h=x(!1),I=B,L=V,m=x([]),i=O(),p=w({list:[],count:0}),c=w({type:1,userID:Number(i.params.id)});async function y(){const o=await G(c);if(o.code){P.error(o.msg);return}p.list=o.data.list,p.count=o.data.count}F(()=>i.query,()=>{const o=Number(i.query.categoryID);isNaN(o)?c.categoryID=void 0:c.categoryID=o;const a=Number(i.query.collectID);isNaN(a)?c.collectID=void 0:c.collectID=a,i.query.key!==void 0&&(c.key=i.query.key),y()},{deep:!0,immediate:!0}),F(()=>i.params.id,()=>{const o=Number(i.params.id);isNaN(o)||(c.userID=o,y())});function q(){h.value=!h.value}async function M(){L("dispatchDelete",m.value),m.value=[]}return E({getData:y}),(o,a)=>{const z=l("a-button"),A=l("a-checkbox"),f=l("a-tag"),S=l("a-typography-text"),T=l("IconEye"),U=l("IconMessage"),$=l("a-overflow-list"),j=l("a-checkbox-group"),H=l("a-pagination"),R=l("a-empty");return e(),n("div",Q,[I.isCheck?(e(),n("div",W,[s("span",{class:"dispatch_span",onClick:q},"\u6279\u91CF\u64CD\u4F5C"),m.value.length&&h.value?(e(),k(z,{key:0,size:"mini",onClick:M,status:"danger"},{default:u(()=>a[2]||(a[2]=[g("\u6279\u91CF\u79FB\u9664 ")])),_:1})):_("",!0)])):_("",!0),s("div",X,[r(j,{style:{width:"100%"},modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=t=>m.value=t)},{default:u(()=>[(e(!0),n(C,null,D(p.list,t=>(e(),n("div",Y,[I.isCheck&&h.value?(e(),n("div",Z,[r(A,{value:t.id},null,8,["value"])])):_("",!0),s("div",tt,[t.cover?(e(),n("img",{key:0,onClick:v=>b(N)(t.id),src:t.cover,alt:""},null,8,et)):_("",!0)]),t.userTop?(e(),n("div",st,[r(f,{color:"blue"},{default:u(()=>a[3]||(a[3]=[g("\u7528\u6237\u7F6E\u9876")])),_:1})])):_("",!0),s("div",ot,[s("div",{class:"title",onClick:v=>b(N)(t.id)},d(t.title),9,at),s("div",nt,[r(S,{ellipsis:{rows:2,css:!0}},{default:u(()=>[g(d(t.abstract),1)]),_:2},1024)]),s("div",ct,[s("div",lt,[r(T),s("span",null,d(t.lookCount),1)]),s("div",it,[r(U),s("span",null,d(t.commentCount),1)]),s("div",rt,[t.tagList.length<=3?(e(!0),n(C,{key:0},D(t.tagList,v=>(e(),k(f,{class:"tag"},{default:u(()=>[g(d(v),1)]),_:2},1024))),256)):(e(),k($,{key:1,min:5},{default:u(()=>[(e(!0),n(C,null,D(t.tagList,v=>(e(),k(f,null,{default:u(()=>[g(d(v),1)]),_:2},1024))),256))]),_:2},1024))]),s("div",ut,"\u6700\u540E\u66F4\u65B0\u4E8E"+d(b(J)(t.updatedAt)),1)])])]))),256))]),_:1},8,["modelValue"]),p.count?(e(),n("div",_t,[r(H,{onChange:y,current:c.page,"onUpdate:current":a[1]||(a[1]=t=>c.page=t),"page-size":c.limit,total:p.count,"show-total":""},null,8,["current","page-size","total"])])):_("",!0),p.list.length===0?(e(),n("div",dt,[r(R)])):_("",!0)])])}}});export{ht as _};
