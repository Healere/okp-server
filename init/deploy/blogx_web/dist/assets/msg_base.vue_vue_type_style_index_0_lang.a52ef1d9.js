import{d as C,a as f,r as d,o as i,e as r,h as l,F as D,g as S,f as n,i as v,ar as k,M as m,y as x,t as A,u as h,w as _,m as y,a5 as N,as as V,at as R}from"./index.b57f2f57.js";import{b as z}from"./date.5a421098.js";const L={class:"f_msg_base_com"},E={class:"list"},I={class:"item"},T={class:"action"},U={class:"date"},$={class:"more"},j={key:0,class:"no_data"},q={key:0,class:"page"},J=C({__name:"msg_base",props:{t:{}},setup(w){const u=w,a=f({list:[],count:0}),c=f({t:u.t,limit:10,page:1});async function p(){const e=await k(c);if(e.code){m.error(e.msg);return}a.list=e.data.list,a.count=e.data.count}p();async function b(e,t){let s;if(e==="read"?s=await V({id:t,t:u.t}):s=await R({id:t,t:u.t}),s.code){m.error(s.msg);return}m.success(s.msg),p()}return(e,t)=>{const s=d("a-doption"),g=d("a-dropdown"),F=d("a-empty"),M=d("a-pagination");return i(),r("div",L,[l("div",E,[(i(!0),r(D,null,S(a.list,o=>(i(),r("div",I,[x(e.$slots,"default",{item:o}),l("div",T,[l("span",U,A(h(z)(o.createdAt)),1),l("span",$,[n(g,{onSelect:B=>b(B,o.id)},{content:_(()=>[n(s,{value:"read",disabled:o.isRead},{default:_(()=>t[1]||(t[1]=[y("\u8BFB\u53D6\u6D88\u606F")])),_:2},1032,["disabled"]),n(s,{value:"delete"},{default:_(()=>t[2]||(t[2]=[y("\u5220\u9664\u6D88\u606F")])),_:1})]),default:_(()=>[n(h(N))]),_:2},1032,["onSelect"])])])]))),256)),a.list.length===0?(i(),r("div",j,[n(F)])):v("",!0)]),a.list.length?(i(),r("div",q,[n(M,{"page-size":c.limit,total:a.count,"show-total":"",current:c.page,"onUpdate:current":t[0]||(t[0]=o=>c.page=o),onChange:p},null,8,["page-size","total","current"])])):v("",!0)])}}});export{J as _};
