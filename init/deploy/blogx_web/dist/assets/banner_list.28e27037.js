import{_ as E}from"./f_list.vue_vue_type_style_index_0_lang.88239f5f.js";import{a as N,b as D}from"./banner_api.fc6d777f.js";import{d as C,q as U,r as s,o as p,e as _,f as o,w as l,n as I,u as f,b as w,a as L,M as y,m as F,t as $}from"./index.b57f2f57.js";/* empty css                                                       */import{d as M}from"./options.22e943c4.js";import{_ as O}from"./f_cover_cutter.vue_vue_type_script_setup_true_lang.4779884e.js";import"./date.5a421098.js";import"./image_api.1314f2b6.js";import"./_plugin-vue_export-helper.cdc0426e.js";const R={class:"f_image_upload"},S=C({__name:"f_banner_upload",props:{modelValue:{},placeholder:{},shape:{},width:{},height:{},rate:{}},emits:["update:modelValue"],setup(g,{emit:c}){U();const u=g,{shape:i="circle",width:e=60,height:h=60}=u,d=c;function v(t){d("update:modelValue",t)}function n(t){d("update:modelValue",t)}return(t,r)=>{const b=s("a-input"),m=s("a-image");return p(),_("div",R,[o(b,{"model-value":u.modelValue,placeholder:u.placeholder,onInput:v},null,8,["model-value","placeholder"]),o(O,{rate:u.rate,onOk:n},{default:l(()=>[o(m,{src:u.modelValue,preview:!1,class:I(f(i)),width:f(e),height:f(h)},null,8,["src","class","width","height"])]),_:1},8,["rate"])])}}});const T=["href"],q={key:1},X=C({__name:"banner_list",setup(g){const c=[{title:"ID",dataIndex:"id"},{title:"\u56FE\u7247",slotName:"cover"},{title:"\u8DF3\u8F6C\u5730\u5740",slotName:"href"},{title:"\u662F\u5426\u663E\u793A",slotName:"show"},{title:"\u7C7B\u578B",dataIndex:"type",type:"options",options:M},{title:"\u65F6\u95F4",slotName:"createdAt"},{title:"\u64CD\u4F5C",slotName:"action"}],u=w(!1),i=w(),e=L({cover:"",href:"",show:!0,type:1});function h(){e.id=void 0,e.cover="",e.href="",e.show=!0,e.type=1,u.value=!0}function d(n){e.id=n.id,e.cover=n.cover,e.href=n.href,e.type=n.type,u.value=!0}async function v(){const n=await N(e);return n.code?(y.error(n.msg),!1):(y.success(n.msg),i.value.getList(),!0)}return(n,t)=>{const r=s("a-form-item"),b=s("a-input"),m=s("a-switch"),V=s("a-radio"),k=s("a-radio-group"),x=s("a-form"),A=s("a-modal"),B=s("a-image");return p(),_("div",null,[o(A,{visible:u.value,"onUpdate:visible":t[4]||(t[4]=a=>u.value=a),title:e.id?"\u66F4\u65B0banner":"\u521B\u5EFAbanner","on-before-ok":v},{default:l(()=>[o(x,{model:e},{default:l(()=>[o(r,{label:"\u5C01\u9762"},{default:l(()=>[o(S,{rate:e.type===1?"3:1":"11:6",modelValue:e.cover,"onUpdate:modelValue":t[0]||(t[0]=a=>e.cover=a),shape:"",placeholder:"banner\u5C01\u9762",height:60},null,8,["rate","modelValue"])]),_:1}),o(r,{label:"\u8DF3\u8F6C\u5730\u5740"},{default:l(()=>[o(b,{placeholder:"\u8DF3\u8F6C\u5730\u5740",modelValue:e.href,"onUpdate:modelValue":t[1]||(t[1]=a=>e.href=a)},null,8,["modelValue"])]),_:1}),o(r,{label:"\u662F\u5426\u663E\u793A"},{default:l(()=>[o(m,{modelValue:e.show,"onUpdate:modelValue":t[2]||(t[2]=a=>e.show=a)},null,8,["modelValue"])]),_:1}),o(r,{label:"\u7C7B\u578B"},{default:l(()=>[o(k,{modelValue:e.type,"onUpdate:modelValue":t[3]||(t[3]=a=>e.type=a)},{default:l(()=>[o(V,{value:1},{default:l(()=>t[5]||(t[5]=[F("banner")])),_:1}),o(V,{value:2},{default:l(()=>t[6]||(t[6]=[F("\u63A8\u5E7F")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"]),o(E,{ref_key:"fListRef",ref:i,onAdd:h,onEdit:d,url:f(D),columns:c},{cover:l(({record:a})=>[o(B,{src:a.cover,height:"50px"},null,8,["src"])]),show:l(({record:a})=>[o(m,{"model-value":a.show},null,8,["model-value"])]),href:l(({record:a})=>[a.href?(p(),_("a",{key:0,href:a.href,target:"_blank"},$(a.href),9,T)):(p(),_("span",q,"-"))]),_:1},8,["url"])])}}});export{X as default};
